(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a233b644"],{"18b6":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"bonusPool-page"},[o("MBheaderBar",{attrs:{title:t.$t("message.BPbonusPools")}}),o("div",{staticClass:"content"},[o("div",{staticClass:"top-btn"},[o("div",{class:[0==t.topBtnIndex?"select":""],on:{click:function(s){t.selectBtn(0)}}},[t._v(t._s(t.$t("message.bonusPool")))]),o("div",{class:[1==t.topBtnIndex?"select":""],on:{click:function(s){t.selectBtn(1)}}},[t._v(t._s(t.$t("message.BPDig")))])]),o("div",{directives:[{name:"show",rawName:"v-show",value:0==t.topBtnIndex,expression:"topBtnIndex == 0"}],staticClass:"part1"},[o("p",{staticClass:"tip1"},[t._v(t._s(t.$t("message.BPtip")))]),o("div",{staticClass:"coin-wrap eth"},[o("div",{staticClass:"coin-logo"},[o("img",{attrs:{src:e("1eb1")}}),o("span",[t._v(t._s(t.$t("message.BPcurrentAmount")))])]),o("h3",[t._v(t._s(Number(t.bonusPoolsData.ethPool)>0?Number(t.bonusPoolsData.ethPool).toFixed(2):0)+" ETH")])]),o("div",{staticClass:"coin-wrap eth"},[o("div",{staticClass:"coin-logo"},[o("img",{attrs:{src:e("1d0a")}}),o("span",[t._v(t._s(t.$t("message.BPcurrentAmount")))])]),o("h3",[t._v(t._s(Number(t.bonusPoolsData.trxPool)>0?Number(t.bonusPoolsData.trxPool).toFixed(2):0)+" TRX")])]),o("ul",[o("li",[o("img",{attrs:{src:e("1663")}}),o("span",[t._v(t._s(t.$t("message.BPSoon")))])]),o("li",[o("img",{attrs:{src:e("8960")}}),o("span",[t._v(t._s(t.$t("message.BPSoon")))])])]),o("div",{staticClass:"tip2"},[o("p",{},[t._v(t._s(t.$t("message.BPtip2")))])]),t.storeCurrentAddr.bet?o("div",{staticClass:"tip3"},[o("p",[t._v(t._s(t.$t("message.BPab"))+"："+t._s(t.storeCurrentAddr.bet||0)+" AB")])]):t._e()]),o("div",{directives:[{name:"show",rawName:"v-show",value:1==t.topBtnIndex,expression:"topBtnIndex == 1"}],staticClass:"part2"},[o("div",{staticClass:"progress-wrap"},[o("h4",{directives:[{name:"show",rawName:"v-show",value:"TRX"==t.coinType,expression:"coinType == 'TRX'"}]},[t._v(t._s(t.$t("message.BP3stage"))+"（"+t._s(t.$t("message.BPmost"))+" 100TRX：50AB）")]),o("h4",{directives:[{name:"show",rawName:"v-show",value:"ETH"==t.coinType,expression:"coinType == 'ETH'"}]},[t._v(t._s(t.$t("message.BP3stage"))+"（"+t._s(t.$t("message.BPmost"))+" 1ETH：3200AB）")]),o("div",{staticClass:"progress-bar"},[o("i",[t._v(t._s(t.bonusPoolsData.progressDig.toFixed(2))+"/1,000,000,000")]),o("span",{style:{width:t.bonusPoolsData.progressDig/1e9*100+"%"}})])]),o("div",{staticClass:"ctn-area area1"},[o("label",[t._v(t._s(t.$t("message.BPgame")))]),o("h4",[t._v(t._s(t.bonusPoolsData.totalDig.toFixed(2))+" AB")])]),o("div",{staticClass:"ctn-area area2"},[o("div",{staticClass:"cell"},[o("label",[t._v(t._s(t.$t("message.BPreceived")))]),o("h4",[t._v(t._s(t.bonusPoolsData.transferred.toFixed(2)))])]),o("div",{staticClass:"cell"},[o("label",[t._v(t._s(t.$t("message.BPtoReceive")))]),o("h4",[t._v(t._s(t.bonusPoolsData.ab.toFixed(2)))])])]),o("p",{directives:[{name:"show",rawName:"v-show",value:"TRX"==t.coinType,expression:"coinType == 'TRX'"}],staticClass:"tips"},[t._v(t._s(t.$t("message.BPhandleFee")))]),o("p",{directives:[{name:"show",rawName:"v-show",value:"ETH"==t.coinType,expression:"coinType == 'ETH'"}],staticClass:"tips"},[t._v(t._s(t.$t("message.BPEthFee")))]),t.storeCurrentAddr.token?o("a",{staticClass:"get",attrs:{href:"javascript:;"},on:{click:t.getAB}},[t._v(t._s(t.$t("message.BPbtnGet")))]):o("a",{staticClass:"get",attrs:{href:"javascript:;"},on:{click:function(s){t.isShow=!1,t.openLogin()}}},[t._v(t._s(t.$t("message.login")))]),o("p",{staticClass:"tips tips-spec"},[t._v(t._s(t.$t("message.BPtip")))])])])],1)},a=[],n=(e("f751"),e("be94")),i=(e("cadf"),e("551c"),e("097d"),e("2f62")),r=e("fca0"),c=e("938b"),l={props:{isShowBPpopup:{type:Boolean,default:!1}},data:function(){return{bonusPoolsData:{progressDig:0,totalDig:0,transferred:0,ab:0},isShow:!1,topBtnIndex:0}},watch:{isShow:function(t){t?this.getBonusPools():this.$emit("change",t)},isShowBPpopup:function(t){t&&(this.isShow=!0)}},model:{prop:"isShowBPpopup",event:"change"},mounted:function(){this.getBonusPools(),this.$route.query.ab&&(this.topBtnIndex=1)},computed:Object(n["a"])({},Object(i["c"])({storeCurrentAddr:function(t){return t.user.currentAddr},coinType:function(t){return t.user.coinType},tronWeb:function(t){return t.tronHandler.tronWeb},web3:function(t){return t.web3Handler.web3}})),methods:Object(n["a"])({selectBtn:function(t){this.topBtnIndex=t},getBonusPools:function(){var t=this;Object(c["a"])({type:"get",url:"/app/profit/profit",data:{coinType:this.coinType}}).then(function(s){200==s.code&&(s.trxPool<0&&(s.trxPool=0),s.ethPool<0&&(s.ethPool=0),t.bonusPoolsData=Object.assign(t.bonusPoolsData,s.result))})},getAB:function(){var t=this;this.bonusPoolsData.ab<=0?this.alert({type:"info",msg:this.$t("message.BPnothingAB"),timeout:3e3}):"DISPATCHER"!=this.storeCurrentAddr.platform?this.$http.post("/app/transfer/ab_withdraw").then(function(s){t.getBonusPools(),200==s.code?"ETH"==t.coinType?t.getETH_AB(s.result):t.getTRX_AB(s.result):t.alert({type:"info",msg:s.msg})}):this.$router.push("my-assets")},getETH_AB:function(t){var s=this;this.web3.diceApiHandle.methods.askForToken(t,this.web3.coinbase).send({from:this.web3.coinbase},function(e,o){e?(s.recall(t),s.alert({type:"info",msg:"User rejected the signature request.",timeout:3e3})):s.alert({type:"info",msg:s.$t("message.BPgetSuccess"),timeout:3e3})})},getTRX_AB:function(t){var s=this,e=this.tronWeb.tronWebInstance.toSun(10);this.tronWeb.contract.askForToken(t,this.tronWeb.coinbase).send({feeLimit:e,callValue:0,shouldPollResponse:!1}).then(function(t){s.alert({type:"info",msg:s.$t("message.BPgetSuccess"),timeout:3e3})}).catch(function(e){s.recall(t),s.alert({type:"info",msg:"User rejected the signature request.",timeout:3e3})})},recall:function(t){var s=this;this.$http.post("/app/transfer/ab_withdraw/recall/"+t,{noLoading:!0}).then(function(t){200==t.code&&s.getBonusPools()})}},Object(i["b"])({alert:"alert",openLogin:"OPEN_LOGIN"})),deactivated:function(){clearInterval(this.timer),this.timer=null},components:{HeaderBar:r["a"]}},u=l,p=(e("1db3"),e("2877")),d=Object(p["a"])(u,o,a,!1,null,null,null);d.options.__file="BonusPool.vue";s["default"]=d.exports},"1cbd":function(t,s,e){},"1db3":function(t,s,e){"use strict";var o=e("1cbd"),a=e.n(o);a.a}}]);