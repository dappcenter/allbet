(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6345ba8e"],{"0091":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"threecards-page"},[e("HeaderBar"),e("div",{staticClass:"main",style:{minHeight:t.$window.innerHeight-150+"px"}},[e("iframe",{style:{height:t.$window.innerHeight-150+"px"},attrs:{src:"web-mobile/threecards.html",frameborder:"0"}}),e("Record")],1),e("FooterBar")],1)},i=[],r=e("be94"),n=(e("cadf"),e("551c"),e("097d"),e("fca0")),c=e("348c"),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"module-poker-record"},[e("div",{staticClass:"nav"},[e("a",{staticClass:"tl",class:{active:"RECENT"==t.boardType},attrs:{href:"javascript:;"},on:{click:function(s){t.getData("RECENT")}}},[t._v(t._s(t.$t("message.GamesPlayers")))]),e("a",{class:{active:"GANGSTER"==t.boardType},attrs:{href:"javascript:;"},on:{click:function(s){t.getData("GANGSTER")}}},[t._v(t._s(t.$t("message.GameBig")))]),e("a",{class:{active:"LUCKY"==t.boardType},attrs:{href:"javascript:;"},on:{click:function(s){t.getData("LUCKY")}}},[t._v(t._s(t.$t("message.GameLuckyList")))]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.currentAddr.token,expression:"currentAddr.token"}],staticClass:"tr",class:{active:"ME"==t.boardType},attrs:{href:"javascript:;"},on:{click:function(s){t.getData("ME")}}},[t._v(t._s(t.$t("message.GameRecord")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"ME"==t.boardType,expression:"boardType == 'ME'"}],staticClass:"myinfo"},[e("span",{staticClass:"fl"},[t._v(t._s(t.$t("message.GameParticipation"))+" "),e("i",[t._v(t._s(t.diceBasis.totalParticipate||0))])]),e("span",{staticClass:"fr"},[t._v("AB: "),e("i",[t._v(t._s(t.diceBasis.totalAb||0))])]),e("span",{staticClass:"fr"},[t._v(t._s(t.$t("message.GameProfit"))),e("i",[t._v(t._s(t.diceBasis.totalEarn||0))]),t._v(t._s(t.coinType))]),e("span",{staticClass:"fr nominscreen"},[t._v(t._s(t.$t("message.GameTips1")))])]),e("div",{staticClass:"table-record nominscreen"},[e("div",{staticClass:"t-head"},[e("span",[t._v(t._s(t.$t("message.GamePlay")))]),e("span",{staticClass:"tl"},[t._v(t._s(t.$t("message.GameTime")))]),e("span",{staticClass:"nominscreen"},[t._v(t._s(t.$t("message.GameBetNum")))]),e("span",{staticClass:"nominscreen"},[t._v(t._s(t.$t("message.PokerSuits")))]),e("span",{staticClass:"nominscreen"},[t._v(t._s(t.$t("message.PokerResults")))]),e("span",{staticClass:"tr"},[t._v(t._s(t.$t("message.GameReward")))]),e("span",{staticClass:"nominscreen"},[t._v("AB")])]),e("div",{staticClass:"t-body"},t._l(t.displayedList,function(s){return e("ul",{staticClass:"list-content",class:{lose:"LOSE"==s.winFlag,win:"WIN"==s.winFlag,lucky:s.odds>=t.rule.luckyManOdds,rich:s.coinAmount>=t.rule.gangsterAmount}},[e("li",{staticClass:"user"},[e("span",[t._v(t._s(s.coinAddress.replace(/(.{4}).*(.{4})/,"$1....$2")))])]),e("li",{staticClass:"tl"},[e("span",[t._v(t._s(t.$fmtDate(s.updateTimestamp,"time")))])]),e("li",[e("span",[t._v(t._s(s.coinAmount))])]),e("li",{staticClass:"multi-row"},[0!=s.pokerType?e("div",{staticClass:"hs"},t._l(s.pokerType.split(","),function(t){return e("img",{attrs:{src:"img/poker/cardtype"+t+".png",alt:""}})})):t._e(),e("div",{staticClass:"num"},[t._v(t._s(t.pokerNumTranslation(s.pokerNumber)))])]),e("li",{staticClass:"multi-row"},[e("div",{staticClass:"hs"},[e("img",{attrs:{src:"img/poker/cardtype"+t.luckyNumTranslation(s.luckyNum)[0]+".png",alt:""}})]),e("div",{staticClass:"num"},[t._v(t._s(t.luckyNumTranslation(s.luckyNum)[1]))])]),e("li",{staticClass:"golden tr"},[s.rewards>0?e("span",[t._v(t._s(Math.floor(1e4*s.rewards)/1e4))]):t._e()]),e("li",[e("span",[t._v(t._s(Math.floor(100*s.abNum)/100))])])])}))]),e("div",{staticClass:"table-record minscreen"},[e("div",{staticClass:"t-head"},[e("span",[t._v(t._s(t.$t("message.GamePlay")))]),e("span",[t._v(t._s(t.$t("message.GameBetNum")))]),e("span",{staticClass:"tr"},[t._v(t._s(t.$t("message.GameReward")))])]),e("div",{staticClass:"t-body"},t._l(t.displayedList,function(s){return e("ul",{staticClass:"list-content",class:{lose:"LOSE"==s.winFlag,win:"WIN"==s.winFlag,lucky:s.odds>=t.rule.luckyManOdds,rich:s.coinAmount>=t.rule.gangsterAmount}},[e("li",{staticClass:"user"},[e("span",[t._v(t._s(s.coinAddress.replace(/(.{4}).*(.{4})/,"$1....$2")))])]),e("li",[e("span",[t._v(t._s(s.coinAmount))])]),e("li",{staticClass:"golden tr"},[s.rewards>0?e("span",[t._v(t._s(Math.floor(1e4*s.rewards)/1e4))]):t._e()])])}))])])},l=[],d=(e("ac6a"),e("28a5"),e("2f62")),u=(e("938b"),{data:function(){return{unfold:-1,recordsList:[],displayedList:[],boardType:"RECENT",rule:{},timer:null,diceBasis:{totalAb:0},lastRecord:"",updateListTimer:null}},created:function(){},watch:{coinType:function(){this.getRule()}},computed:Object(r["a"])({},Object(d["c"])({currentAddr:function(t){return t.user.currentAddr},coinType:function(t){return t.user.coinType}})),methods:Object(r["a"])({getData:function(t){this.boardType=t,this.lastRecord="";var s=null;if(this.currentAddr.assets&&(s=this.currentAddr.assets[this.coinType].coinAddress),!s&&"ME"==this.boardType)return this.recordsList=[],void(this.displayedList=[])},getRule:function(){},getDataPoll:function(){},updateList:function(){var t=this;if(clearTimeout(this.updateListTimer),this.recordsList.length>0){this.displayedList.length>=30&&this.displayedList.pop();var s=this.recordsList.pop();s&&this.displayedList.unshift(s)}this.updateListTimer=setTimeout(function(){t.updateList()},300)},luckyNumTranslation:function(t){var s=["A","B","C","D"],e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],a=t%13;a=0==a?13:a;var i=Math.ceil(t/13%4);return i=0==i?4:i,[s[i-1],e[a-1]]},pokerNumTranslation:function(t){var s=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],e=t.split(","),a=[];return e.forEach(function(t,e){a.push(s[t-1])}),a.join(" ")}},Object(d["b"])({alert:"alert"})),destroyed:function(){clearInterval(this.timer)}}),p=u,m=(e("13b8"),e("2877")),_=Object(m["a"])(p,o,l,!1,null,null,null);_.options.__file="record.vue";var v=_.exports,h=e("2c78"),f={mounted:function(){var t=this;window.addEventListener("message",function(s){if(s.data.target&&"threecards"==s.data.target){console.log("收到消息：",s.data);var e=s.data;switch(e.methodName){case"CHANGE_COINTYPE":t.changeCoinType(e.data);break;case"ALERT":t.alert({type:"info",msg:e.data,timeout:3e3});break;case"LOGIN":t.$refs.threecards.contentWindow.postMessage({target:"allbet",methodName:"CURRENT_ADDR",data:t.currentAddr},"http://192.168.120.196:7456");break;default:break}}},!1)},watch:{currentAddr:function(t,s){this.$refs.threecards&&this.$refs.threecards.contentWindow.postMessage({target:"allbet",methodName:"CURRENT_ADDR",data:t},"http://192.168.120.196:7456")}},computed:Object(r["a"])({},Object(d["c"])({currentAddr:function(t){return t.user.currentAddr}})),methods:Object(r["a"])({},Object(d["b"])({setBetInfo:"SET_ROLLER_BET_INFO",alert:"alert",openLogin:"OPEN_LOGIN",openWinPopup:"OPEN_WIN_POPUP",openConfirm:"OPEN_CONFIRM",closePopup:"CLOSE_POPUP",changeCoinType:"CHANGE_COINTYPE"})),components:{HeaderBar:n["a"],FooterBar:c["a"],Record:v},beforeRouteEnter:function(t,s,e){Object(h["a"])()?e():e("dice")}},g=f,C=(e("762d"),Object(m["a"])(g,a,i,!1,null,null,null));C.options.__file="ThreeCards.vue";s["default"]=C.exports},"13b8":function(t,s,e){"use strict";var a=e("30d8"),i=e.n(a);i.a},"30d8":function(t,s,e){},"604d":function(t,s,e){},"762d":function(t,s,e){"use strict";var a=e("604d"),i=e.n(a);i.a}}]);