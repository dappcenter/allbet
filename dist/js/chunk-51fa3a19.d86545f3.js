(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51fa3a19"],{"50ba":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-page"},[o("MBheaderBar",{attrs:{title:t.$t("message.login")}}),o("div",{staticClass:"bottom"},[o("div",{staticClass:"input-wrap"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.phoneLogin.phone,expression:"formData.phoneLogin.phone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.$t("message.PopLoginPlaceholder")},domProps:{value:t.formData.phoneLogin.phone},on:{input:function(e){e.target.composing||t.$set(t.formData.phoneLogin,"phone",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),o("div",{staticClass:"input-wrap"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:t.$t("message.PopLoginPass")},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}})]),o("button",{staticClass:"primary-btn",on:{click:function(e){t.loginDo()}}},[t._v(t._s(t.$t("message.login")))]),o("p",[o("router-link",{attrs:{to:"findpwd"}},[t._v(t._s(t.$t("message.forgetPassword")))]),o("router-link",{attrs:{to:"register",replace:""}},[o("span",[t._v(t._s(t.$t("message.noAccount")))]),t._v(t._s(t.$t("message.registerNow")))])],1)])],1)},s=[],n=o("c93e"),a=(o("ac6a"),o("2f62")),i=o("1720"),p=o("2ba1"),d={props:["registerAccount"],data:function(){return{prefixs:["+86","+852","+853","+886","+8801","+8802","+001","+44","+0061"],formData:{emailLogin:{email:""},password:"",loginPwd:"",loginType:"Phone",phoneLogin:{phone:"",prefix:"+86"}},macCode:(new Date).getTime(),registerType:"phone",captchaDisabled:!1,prefixMenu:!1,currentAddr:""}},watch:{addressList:function(t){var e=this,o=null;if(t.length>0){var r=!1;t.forEach(function(t,s){t.coinAddress==e.storeCurrentAddr.coinAddress&&(r=!0,e.setCurrentAddr(t)),t.coinAddress==e.storeWeb3.coinbase&&(o=t)}),r||(o?(this.currentAddr=o.coinAddress,this.setCurrentAddr(o)):(this.currentAddr=t[0].coinAddress,this.setCurrentAddr(t[0])))}},currentAddr:function(t){var e=this;this.addressList.forEach(function(o){o.coinAddress==t&&e.setCurrentAddr(o)})}},methods:Object(n["a"])({loginDo:function(){var t=this,e=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;if(e.test(this.formData.phoneLogin.phone)?(this.formData.loginType="Email",this.formData.emailLogin.email=this.formData.phoneLogin.phone):(this.formData.loginType="Phone",this.formData.phoneLogin.phone=this.formData.phoneLogin.phone),"Phone"==this.formData.loginType){if(!this.verifyPhone())return}else if(!this.verifyEmail())return;""!=this.formData.password?(this.formData.loginPwd=Object(p["a"])(this.formData.password),this.$http.post("/open/login",this.formData).then(function(e){200==e.code&&(t.alert({type:"success",msg:t.$t("message.loginSuccess")}),t.setUserInfo(e.result),t.$goBack())})):this.alert({type:"info",msg:this.$t("message.PopAccountPassEmpty")})},verifyPhone:function(){return!(""==this.formData.phoneLogin.phone||!/^[0-9]*$/.test(this.formData.phoneLogin.phone))||(this.alert({type:"info",msg:this.$t("message.PopPhoneWrong")}),!1)},verifyEmail:function(){return!(""==this.formData.phoneLogin.phone||!/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(this.formData.phoneLogin.phone))||(this.alert({type:"info",msg:this.$t("message.PopEmailWrong")}),!1)}},Object(a["b"])({alert:"alert",setUserInfo:"SET_USERINFO",setCurrentAddr:"SET_CURRENTADDR"})),computed:Object(n["a"])({},Object(a["c"])({userInfo:function(t){return t.user.userInfo},storeCurrentAddr:function(t){return t.user.currentAddr},lastCurAddrPf:function(t){return t.user.lastCurAddrPf},storeWeb3:function(t){return t.web3Handler.web3}}),{addressList:function(){return this.$store.getters.getUserAddress}}),components:{AEFcountDownBtn:i["a"]}},c=d,u=(o("e8da"),o("2877")),h=Object(u["a"])(c,r,s,!1,null,null,null);h.options.__file="Login.vue";e["default"]=h.exports},c904:function(t,e,o){},e8da:function(t,e,o){"use strict";var r=o("c904"),s=o.n(r);s.a}}]);