(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-422a4901"],{9695:function(e,t,s){"use strict";var i=s("fd5e"),a=s.n(i);a.a},a88e:function(e,t,s){},af09:function(e,t,s){e.exports=s.p+"img/kj_poker.97f66aee.png"},d29d:function(e,t){e.exports="data:image/png;base64,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"},ec36:function(e,t,s){"use strict";var i=s("a88e"),a=s.n(i);a.a},f2df:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"roker-page"},[s("HeaderBar"),s("div",{staticClass:"main",style:{minHeight:e.$window.innerHeight-150+"px"}},[s("Bet"),s("Record")],1),s("FooterBar")],1)},a=[],n=s("fca0"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"module-poker-bet"},[i("div",{staticClass:"content-wrap"},[i("div",{staticClass:"view-top"},[i("div",{staticClass:"number-area nominscreen"},[i("div",{staticClass:"watermark"},[i("span",[e._v(e._s(e.$t("message.PokerFigure")))]),i("span",[e._v(e._s(e.$t("message.PokerBettingArea")))])]),i("div",{staticClass:"poker-box"},e._l(e.pokerSelectedList,function(t,s){return i("li",{key:s,on:{click:function(i){e.homingPoker(t,s)}}},[i("img",{attrs:{src:"img/poker/poker_"+t+".png",alt:""}})])}))]),i("div",{staticClass:"kj-area"},[i("div",{staticClass:"odds"},[i("h3",[e._v(e._s(e.$t("message.PokerKJQ")))]),i("div",[i("label",[e._v(e._s(e.$t("message.PokerPL")))]),i("span",[e._v(e._s(e.peilv)+"x")])])]),e._m(0)]),i("div",{staticClass:"number-area minscreen"},[i("div",{staticClass:"watermark"},[i("span",[e._v(e._s(e.$t("message.PokerFigure")))]),i("span",[e._v(e._s(e.$t("message.PokerBettingArea")))])]),i("div",{staticClass:"poker-box"},e._l(e.pokerSelectedList,function(t,s){return i("li",{key:s,on:{click:function(i){e.homingPoker(t,s)}}},[i("img",{attrs:{src:"img/poker/poker_"+t+".png",alt:""}})])}))]),i("div",{staticClass:"number-area hs-area"},[i("div",{staticClass:"watermark"},[i("span",[e._v(e._s(e.$t("message.PokerHS")))]),i("span",[e._v(e._s(e.$t("message.PokerBettingArea")))])]),i("div",{staticClass:"poker-box"},e._l(e.cardSelectedList,function(t,s){return i("li",{key:s,on:{click:function(i){e.homingCard(t,s)}}},[i("img",{attrs:{src:"img/poker/card"+t+".png",alt:""}})])}))])]),i("div",{staticClass:"view-btm"},[i("div",{staticClass:"poker-area"},[i("ul",e._l(e.pokerList,function(t,s){return i("li",{key:s,on:{click:function(i){e.movePoker(t,s)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!==t,expression:"item !== ''"}],attrs:{src:"img/poker/poker_"+t+".png",alt:""}})])}))]),i("div",{staticClass:"hs-area"},[i("ul",e._l(e.cardList,function(t,s){return i("li",{key:s,on:{click:function(i){e.moveCard(t,s)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!==t,expression:"item !== ''"}],attrs:{src:"img/poker/card"+t+".png"}})])}))])])]),i("div",{staticClass:"bet-handler"},[i("div",{ref:"gameContent",staticClass:"game-content"},[i("div",{staticClass:"ctn-top"},[i("div",{staticClass:"bet-input"},[i("p",[e._v(e._s(e.$t("message.GameBetAmount")))]),i("div",{staticClass:"flex-wrap"},[i("div",{staticClass:"input-wrap"},[i("mu-menu",{attrs:{cover:"",placement:"bottom-end",open:e.coinTypeSelectShow},on:{"update:open":function(t){e.coinTypeSelectShow=t}}},[i("mu-button",{attrs:{icon:""}},[i("label",{class:{eth:"ETH"==e.coinType,trx:"TRX"==e.coinType}}),i("i",{})]),i("mu-list",{attrs:{slot:"content"},slot:"content"},[i("mu-list-item",{attrs:{button:""},on:{click:function(t){e.coinTypeSelectShow=!1,e.changeCoinType("TRX")}}},[i("mu-list-item-title",[e._v("TRX")])],1),i("mu-list-item",{attrs:{button:""},on:{click:function(t){e.coinTypeSelectShow=!1,e.changeCoinType("ETH")}}},[i("mu-list-item-title",[e._v("ETH")])],1)],1)],1),i("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],attrs:{type:"text",oninput:"value=value.replace(/[^0-9\\.]/g,'')",onkeyup:"value=value.replace(/[^0-9\\.]/g,'')",onpaste:"value=value.replace(/[^0-9\\.]/g,'')"},domProps:{value:e.amount},on:{blur:e.inputAmountBlur,input:function(t){t.target.composing||(e.amount=t.target.value)}}}),i("span",[e._v(e._s(e.coinType))])],1),i("div",{staticClass:"hotkeys"},[i("span",{on:{click:function(t){e.onHotkeys(2)}}},[e._v("2X")]),i("span",{on:{click:function(t){e.onHotkeys(.5)}}},[e._v("1/2")]),i("span",{on:{click:function(t){e.onHotkeys("min")}}},[e._v("MIN")]),i("span",{on:{click:function(t){e.onHotkeys("max")}}},[e._v("MAX")])])])]),i("div",{staticClass:"award"},[i("p",[e._v(e._s(e.$t("message.GamePlayOutWin")))]),i("div",[i("img",{directives:[{name:"show",rawName:"v-show",value:"ETH"==e.coinType,expression:"coinType == 'ETH'"}],attrs:{src:s("1eb1"),alt:""}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"TRX"==e.coinType,expression:"coinType == 'TRX'"}],attrs:{src:s("1d0a"),alt:""}}),i("span",[e._v(e._s(e.bonus))]),i("i",[e._v(e._s(e.coinType))])])])]),i("div",{staticClass:"ctn-btm"},[i("div",{staticClass:"bet-wrap"},[i("span",{staticClass:"fl nominscreen"},[i("img",{directives:[{name:"show",rawName:"v-show",value:"ETH"==e.coinType,expression:"coinType == 'ETH'"}],attrs:{src:s("1eb1")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"TRX"==e.coinType,expression:"coinType == 'TRX'"}],attrs:{src:s("1d0a")}}),e.currentAddr.token&&e.currentAddr.assets?i("i",[i("DigitalRoll",{attrs:{value:1*e.currentAddr.assets[e.coinType].amount}})],1):i("i",[e._v("0")]),e._v(" "+e._s(e.coinType))]),i("button",{staticClass:"enter",on:{click:e.betDo}},[e._v(e._s(e.$t("message.BPSoon")))]),i("span",{staticClass:"fl minscreen"},[i("img",{directives:[{name:"show",rawName:"v-show",value:"ETH"==e.coinType,expression:"coinType == 'ETH'"}],attrs:{src:s("1eb1")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"TRX"==e.coinType,expression:"coinType == 'TRX'"}],attrs:{src:s("1d0a")}}),e.currentAddr.token&&e.currentAddr.assets?i("i",[i("DigitalRoll",{attrs:{value:1*e.currentAddr.assets[e.coinType].amount}})],1):i("i",[e._v("0")]),e._v(" "+e._s(e.coinType))]),i("span",{staticClass:"fr"},[i("img",{attrs:{src:s("8960")}}),e.userInfo.token?i("i",[i("DigitalRoll",{attrs:{value:1*e.currentAddr.bet}})],1):i("i",[e._v("0")]),e._v(" AB")])])]),e.rule.winDig?i("div",{staticClass:"dig-wrap"},[i("img",{attrs:{src:s("d29d"),alt:""}}),i("div",{staticClass:"content"},[i("p",[e._v(e._s(e.$t("message.GameBetToGet"))+" "+e._s(Math.floor(e.rule.winDig.split(":")[1]/e.rule.winDig.split(":")[0]*e.amount))+" AB")]),i("span",[e._v(e._s(e.$t("message.GameDigProportion"))+"　 WIN "+e._s(e.rule.winDig.split(":")[0])+" : "+e._s(e.rule.winDig.split(":")[1])+" 　  LOSE "+e._s(e.rule.failDig.split(":")[0])+" : "+e._s(e.rule.failDig.split(":")[1]))])]),i("i",{staticClass:"help nominscreen",on:{click:function(t){e.isShowABpopup=!0}}}),i("i",{staticClass:"help minscreen",on:{click:function(t){e.$router.push("ab")}}})]):e._e()]),i("AbPopup",{model:{value:e.isShowABpopup,callback:function(t){e.isShowABpopup=t},expression:"isShowABpopup"}})],1)])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"poker"},[i("img",{attrs:{src:s("af09"),alt:""}})])}],c=(s("c5f6"),s("c93e")),l=s("14b5"),u=s("2f62"),d=(s("b253"),s("938b")),m=s("bbcb"),p=s("6d7d"),h=s("4d2c"),v={props:{diceStatistics:{type:Object,default:function(){return{earned:"",guessCount:"",newcomers:[]}}}},data:function(){return{amount:.1,odds:50,rule:{},luckyColor:"green",luckyNum:"00",timer:null,getBetResultTimer:null,maxNum:96,isShowHelp:!1,openWeixinQR:!1,autoBet:!1,isShowABpopup:!1,isShowFundraiy:!1,scroll:null,pokerList:[],pokerSelectedList:[],cardList:[1,2,3,4],cardSelectedList:[],coinTypeSelectShow:!1}},created:function(){this.getRule(),window.hd={};for(var e=1;e<=13;e++)this.pokerList.push(e)},mounted:function(){this.setBetInfo({amount:this.amount}),window.onmouseup=function(){window.onmousemove=null},window.ontouchend=function(){window.ontouchmove=null},this.setBetInfo({odds:1}),"TRX"==this.coinType&&this.$IsPC()?this.isShowFundraiy=!0:"TRX"!=this.coinType||this.$IsPC()||"YES"==sessionStorage.getItem("IsFirstEnter")||(this.$router.push("mobile-fundraiy"),sessionStorage.setItem("IsFirstEnter","YES"))},methods:Object(c["a"])({movePoker:function(e,t){""!=e&&(4==this.cardSelectedList.length&&this.pokerSelectedList.length>=12?this.alert({type:"info",msg:this.$t("message.PokerTips3")}):0==this.cardSelectedList.length&&this.pokerSelectedList.length>=12?this.alert({type:"info",msg:this.$t("message.PokerTips1")}):(this.pokerList.splice(t,1,""),this.pokerSelectedList.push(e)))},homingPoker:function(e,t){this.cardSelectedList.length>=4&&this.pokerSelectedList.length<=1?this.alert({type:"info",msg:this.$t("message.PokerTips5")}):(this.pokerSelectedList.splice(t,1),this.pokerList.splice(e-1,1,e))},moveCard:function(e,t){""!=e&&((this.cardSelectedList.length>=3||0==this.cardSelectedList.length)&&this.pokerSelectedList.length>=13?this.alert({type:"info",msg:this.$t("message.PokerTips3")}):this.cardSelectedList.length>=3&&0==this.pokerSelectedList.length?this.alert({type:"info",msg:this.$t("message.PokerTips2")}):(this.cardList.splice(t,1,""),this.cardSelectedList.push(e)))},homingCard:function(e,t){console.log(this.cardList,this.cardSelectedList),1==this.cardSelectedList.length&&this.pokerSelectedList.length>=13?this.alert({type:"info",msg:this.$t("message.PokerTips4")}):(this.cardSelectedList.splice(t,1),this.cardList.splice(e-1,1,e))},inputAmountBlur:function(){this.amount<this.rule.minInvest&&(this.amount=this.rule.minInvest),this.amount>this.rule.maxInvest&&(this.amount=this.rule.maxInvest)},luckyRun:function(){var e=this;clearInterval(this.timer),this.timer=null,this.timer=setInterval(function(){e.luckyNum=Math.floor(89*Math.random())+10,e.luckyColor=["green","red","golden"][Math.floor(2*Math.random())]},50)},onHotkeys:function(e){switch(e){case"max":this.amount=this.rule.maxInvest;break;case"min":this.amount=this.rule.minInvest;break;case.5:this.amount=.5*this.amount<this.rule.minInvest?this.rule.minInvest:.5*this.amount;break;case 2:this.amount=2*this.amount>this.rule.maxInvest?this.rule.maxInvest:2*this.amount;break;default:this.amount=e;break}}},Object(u["b"])({setBetInfo:"SET_ROLLER_BET_INFO",alert:"alert",openLogin:"OPEN_LOGIN",openWinPopup:"OPEN_WIN_POPUP",openConfirm:"OPEN_CONFIRM",closePopup:"CLOSE_POPUP",changeCoinType:"CHANGE_COINTYPE"}),{getRule:function(){var e=this;this.$http.get("/app/dice/rule",{params:{coinAddress:this.currentAddr.coinAddress||"",coinType:this.coinType}}).then(function(t){console.log("getRule",t),200==t.code&&(e.rule=t.result,e.amount=t.result.minInvest,e.luckyNum=t.result.lastLucky||"00")})},betDo:function(){this.alert({type:"info",msg:this.$t("message.BPSoon")})},placeBet:function(e,t,s,i,a,n,r){var o=this;n=this.web3.web3Instance.utils.toWei(n+"","ether"),this.web3.diceApiHandle.methods.placeBetV1(e,t,s,i,a).send({from:this.currentAddr.coinAddress,value:n,gas:21e4,gasPrice:1e10},function(e,t){e||o.alert({type:"info",msg:"Bet submitted! Waiting for Ethereum...",timeout:9999999})}).then(function(e){o.alert({type:"info",msg:"Successful bet.",timeout:9999999}),o.getBetResult(r)}).catch(function(e){o.alert({type:"info",msg:"User rejected the signature request.",timeout:3e3})})},placeBetTRX:function(e,t,s){var i=this,a=this.tronWeb.tronWebInstance.toSun(10),n=this.tronWeb.tronWebInstance.toSun(s);this.tronWeb.contract.placeBetV1(e,100,t).send({feeLimit:a,callValue:n,shouldPollResponse:!1}).then(function(e){i.alert({type:"info",msg:"Bet submitted! Waiting for Tron...",timeout:9999999}),i.getBetResult(t)}).catch(function(e){i.alert({type:"info",msg:"User rejected the signature request.",timeout:3e3})})},getBetResult:function(e){var t=this;clearInterval(this.getBetResultTimer),this.getBetResultTimer=null,this.getBetResultTimer=setInterval(function(){Object(d["a"])({type:"get",url:"/app/dice/dice/"+e,data:{}}).then(function(e){200==e.code?"WAITING_SETTLE"==e.result.tradeStatus?t.alert({type:"info",msg:"Successful bet.",timeout:9999999}):"DONE"!=e.result.tradeStatus&&"FAIL"!=e.result.tradeStatus||(clearInterval(t.timer),t.timer=null,clearInterval(t.getBetResultTimer),t.getBetResultTimer=null,t.luckyColor="green","DONE"==e.result.tradeStatus?(t.$store.commit("closeAlert"),t.luckyNum=e.result.luckyNum,t.$store.dispatch("updateProperty"),"WIN"==e.result.winFlag?t.openWinPopup({ab:e.result.abNum,rewards:e.result.rewards,coinType:e.result.coinType}):"LOSE"==e.result.winFlag&&t.noWin(e.result.abNum),setTimeout(function(){t.autoBet&&t.userInfo.token&&(t.closePopup(),t.betDo())},1e3)):t.alert({type:"info",msg:"Frustrated bet."})):(clearInterval(t.timer),t.timer=null,clearInterval(t.getBetResultTimer),t.getBetResultTimer=null,t.luckyNum="00",t.luckyColor="green")}).catch(function(e){clearInterval(t.timer),t.timer=null,clearInterval(t.getBetResultTimer),t.getBetResultTimer=null,t.luckyColor="green",t.luckyNum="00"})},1e3)},noWin:function(e){var t=this;this.openConfirm({content:this.$t("message.GameNoWin"),other:this.$t("message.GameWinBox2")+e+"AB",btn:[{type:"high",text:this.$t("message.GameWinBox3"),cb:function(){t.$router.push("roller")}}]})},openFundraiy:function(){"TRX"==this.coinType&&this.$IsPC()?this.isShowFundraiy=!0:"TRX"!=this.coinType||this.$IsPC()||(this.$router.push("mobile-fundraiy"),sessionStorage.setItem("IsFirstEnter","YES"))}}),watch:{amount:function(e,t){this.setBetInfo({odds:this.odds,amount:e})},coinType:function(){this.getRule()}},computed:Object(c["a"])({},Object(u["c"])({web3:function(e){return e.web3Handler.web3},currentAddr:function(e){return e.user.currentAddr},userInfo:function(e){return e.user.userInfo},coinType:function(e){return e.user.coinType},tronWeb:function(e){return e.tronHandler.tronWeb}}),{peilv:function(){return 0==this.pokerSelectedList.length&&0==this.cardSelectedList.length?0:Math.floor(13/(0==this.pokerSelectedList.length?13:this.pokerSelectedList.length)*(4/(0==this.cardSelectedList.length?4:this.cardSelectedList.length))*1e3)/1e3},bonus:function(){return this.amount*this.peilv*.01<=3e-4?Math.floor(1e3*(this.amount*this.peilv-3e-4))/1e3<0?0:Math.floor(1e3*(this.amount*this.peilv-3e-4))/1e3:Math.floor(this.amount*this.peilv*.99*1e3)/1e3<0?0:Math.floor(this.amount*this.peilv*.99*1e3)/1e3}}),components:{DigitalRoll:l["a"],AbPopup:m["a"],FundraiyPopup:p["a"],GameHelpPopup:h["a"]},destroyed:function(){clearInterval(this.timer),this.timer=null,this.luckyColor="green",this.luckyNum="00",this.autoBet=!1}},g=v,f=(s("9695"),s("2877")),k=Object(f["a"])(g,r,o,!1,null,null,null);k.options.__file="bet.vue";var T=k.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"module-poker-record"},[s("div",{staticClass:"nav"},[s("a",{staticClass:"tl",class:{active:"RECENT"==e.boardType},attrs:{href:"javascript:;"},on:{click:function(t){e.getData("RECENT")}}},[e._v(e._s(e.$t("message.GamesPlayers")))]),s("a",{class:{active:"GANGSTER"==e.boardType},attrs:{href:"javascript:;"},on:{click:function(t){e.getData("GANGSTER")}}},[e._v(e._s(e.$t("message.GameBig")))]),s("a",{class:{active:"LUCKY"==e.boardType},attrs:{href:"javascript:;"},on:{click:function(t){e.getData("LUCKY")}}},[e._v(e._s(e.$t("message.GameLuckyList")))]),s("a",{directives:[{name:"show",rawName:"v-show",value:e.currentAddr.token,expression:"currentAddr.token"}],staticClass:"tr",class:{active:"ME"==e.boardType},attrs:{href:"javascript:;"},on:{click:function(t){e.getData("ME")}}},[e._v(e._s(e.$t("message.GameRecord")))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"ME"==e.boardType,expression:"boardType == 'ME'"}],staticClass:"myinfo"},[s("span",{staticClass:"fl"},[e._v(e._s(e.$t("message.GameParticipation"))+" "),s("i",[e._v(e._s(e.diceBasis.totalParticipate||0))])]),s("span",{staticClass:"fr"},[e._v("AB: "),s("i",[e._v(e._s(e.diceBasis.totalAb||0))])]),s("span",{staticClass:"fr"},[e._v(e._s(e.$t("message.GameProfit"))),s("i",[e._v(e._s(e.diceBasis.totalEarn||0))]),e._v(e._s(e.coinType))]),s("span",{staticClass:"fr nominscreen"},[e._v(e._s(e.$t("message.GameTips1")))])]),s("div",{staticClass:"table-record nominscreen"},[s("div",{staticClass:"t-head"},[s("span",[e._v(e._s(e.$t("message.GamePlay")))]),s("span",{staticClass:"tl"},[e._v(e._s(e.$t("message.GameTime")))]),s("span",{staticClass:"nominscreen"},[e._v(e._s(e.$t("message.GameBetNum")))]),s("span",{staticClass:"nominscreen"},[e._v(e._s(e.$t("message.PokerSuits")))]),s("span",{staticClass:"nominscreen"},[e._v(e._s(e.$t("message.PokerResults")))]),s("span",{staticClass:"tr"},[e._v(e._s(e.$t("message.GameReward")))]),s("span",{staticClass:"nominscreen"},[e._v("AB")])]),s("div",{staticClass:"t-body"},e._l(e.recordsList,function(t){return s("ul",{staticClass:"list-content",class:{lose:"LOSE"==t.winFlag,win:"WIN"==t.winFlag,lucky:t.odds>=e.rule.luckyManOdds,rich:t.coinAmount>=e.rule.gangsterAmount}},[s("li",{staticClass:"user"},[s("span",[e._v(e._s(t.coinAddress.replace(/(.{4}).*(.{4})/,"$1....$2")))])]),s("li",{staticClass:"tl"},[s("span",[e._v(e._s(e.$fmtDate(t.createTime,"time")))])]),s("li",[s("span",[e._v(e._s(t.coinAmount))])]),s("li",[s("span",[e._v(e._s(t.guess))])]),s("li",[s("span",[e._v(e._s(t.luckyNum))])]),s("li",{staticClass:"golden tr"},[t.rewards>0?s("span",[e._v(e._s(Math.floor(1e4*t.rewards)/1e4))]):e._e()]),s("li",[s("span",[e._v(e._s(Math.floor(t.abNum)))])])])}))]),s("div",{staticClass:"table-record minscreen"},[s("div",{staticClass:"t-head"},["ME"!=e.boardType?s("span",[e._v(e._s(e.$t("message.GamePlay")))]):s("span",[e._v(e._s(e.$t("message.GameTime")))]),s("span",[e._v(e._s(e.$t("message.GameForecast")))]),s("span",[e._v(e._s(e.$t("message.GameLucky")))]),s("span",{staticClass:"tr"},[e._v(e._s(e.$t("message.GameReward")))])]),s("div",{staticClass:"t-body"},e._l(e.recordsList,function(t){return s("ul",{staticClass:"list-content",class:{lose:"LOSE"==t.winFlag,win:"WIN"==t.winFlag,lucky:t.odds>=e.rule.luckyManOdds,rich:t.coinAmount>=e.rule.gangsterAmount}},["ME"!=e.boardType?s("li",{staticClass:"user"},[s("span",[e._v(e._s(t.coinAddress.replace(/(.{4}).*(.{4})/,"$1....$2")))])]):s("li",[s("span",[e._v(e._s(e.$fmtDate(t.createTime,"time")))])]),s("li",[s("span",[e._v(e._s(t.guess))])]),s("li",[s("span",[e._v(e._s(t.luckyNum))])]),s("li",{staticClass:"golden tr"},[t.rewards>0?s("span",[e._v(e._s(Math.floor(1e4*t.rewards)/1e4))]):e._e()])])}))])])},C=[],A={data:function(){return{unfold:-1,recordsList:[],boardType:"RECENT",rule:{},timer:null,diceBasis:{}}},created:function(){this.getRule(),this.timer=window.setInterval(function(){},3e3)},watch:{currentAddr:function(){this.getData(this.boardType)},coinType:function(){this.getRule()}},computed:Object(c["a"])({},Object(u["c"])({currentAddr:function(e){return e.user.currentAddr},coinType:function(e){return e.user.coinType}})),methods:Object(c["a"])({getData:function(e){this.boardType=e;var t=null;this.currentAddr.assets&&(t=this.currentAddr.assets[this.coinType].coinAddress),t||"ME"!=this.boardType||(this.boardType="RECENT")},getRule:function(){var e=this;this.$http.get("/app/dice/rule",{params:{coinAddress:this.currentAddr.coinAddress||"",coinType:this.coinType}}).then(function(t){200==t.code&&(e.rule=t.result)})},getDataPoll:function(){var e=this,t=null;this.currentAddr.assets&&(t=this.currentAddr.assets[this.coinType].coinAddress),t||"ME"!=this.boardType?Object(d["a"])({type:"get",url:"/app/dice/board",data:{boardType:this.boardType,coinAddress:t,coinType:this.coinType,page:1,pageSize:"ME"==this.boardType?1e4:30}}).then(function(t){200==t.code&&(e.recordsList=t.result.records.list,e.diceBasis=t.result.diceBasis,e.$emit("setDiceStatistics",t.result.diceStatistics))}):this.boardType="RECENT"}},Object(u["b"])({alert:"alert"})),destroyed:function(){clearInterval(this.timer)}},b=A,w=(s("ec36"),Object(f["a"])(b,y,C,!1,null,null,null));w.options.__file="record.vue";var _=w.exports,S=s("348c"),R={components:{HeaderBar:n["a"],Bet:T,Record:_,FooterBar:S["a"]}},E=R,B=Object(f["a"])(E,i,a,!1,null,null,null);B.options.__file="Roker.vue";t["default"]=B.exports},fd5e:function(e,t,s){}}]);