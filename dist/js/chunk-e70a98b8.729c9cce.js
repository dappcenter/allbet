(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e70a98b8"],{"0f10":function(e,t,a){"use strict";var s=a("5fad"),i=a.n(s);i.a},"44b8a":function(e,t,a){e.exports=a.p+"img/allbet_mobile.2ce133f5.png"},"5fad":function(e,t,a){},"8ede":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register-page",style:{minHeight:e.$window.innerHeight+"px"}},[s("div",{staticClass:"top"},[s("a",{staticClass:"backarrow",attrs:{href:"javascript:;"},on:{click:e.$goBack}}),s("img",{staticClass:"logo",attrs:{src:a("44b8a"),alt:""}}),s("div",{staticClass:"tab"},[s("a",{staticClass:"phone",class:{active:"phone"==e.registerType},attrs:{href:"javascript:;"},on:{click:function(t){e.registerType="phone",e.getImgCode("REGISTER")}}},[e._v(e._s(e.$t("message.PopPhoneRegister")))]),s("a",{class:{active:"email"==e.registerType},attrs:{href:"javascript:;"},on:{click:function(t){e.registerType="email",e.getImgCode("REGISTER")}}},[e._v(e._s(e.$t("message.PopEmailRegister")))])])]),s("div",{staticClass:"bottom"},["phone"==e.registerType?s("div",{staticClass:"input-wrap"},[s("label",[e._v(e._s(e.$t("message.PopPhone")))]),s("div",{staticClass:"input-flex prefix"},[s("mu-menu",{attrs:{cover:"",open:e.prefixMenu},on:{"update:open":function(t){e.prefixMenu=t}}},[s("span",{attrs:{color:"primary"}},[e._v(e._s(e.formData.prefix))]),s("mu-list",{attrs:{slot:"content"},slot:"content"},e._l(e.prefixs,function(t){return s("mu-list-item",{key:t,attrs:{button:""},on:{click:function(a){e.formData.prefix=t,e.prefixMenu=!1}}},[s("mu-list-item-title",[e._v(e._s(t))])],1)}))],1),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.phone,expression:"formData.phone",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:e.$t("message.PopRegisterPhone")},domProps:{value:e.formData.phone},on:{input:function(t){t.target.composing||e.$set(e.formData,"phone",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})],1)]):s("div",{staticClass:"input-wrap"},[s("label",[e._v(e._s(e.$t("message.PopEmail")))]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.formData.email,expression:"formData.email",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:e.$t("message.PopRegisterEmail")},domProps:{value:e.formData.email},on:{input:function(t){t.target.composing||e.$set(e.formData,"email",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),s("div",{staticClass:"input-wrap"},[s("label",[e._v(e._s(e.$t("message.PopGraphic")))]),s("div",{staticClass:"input-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.picCode,expression:"formData.picCode"}],attrs:{type:"text",placeholder:e.$t("message.PopGraphicEnter")},domProps:{value:e.formData.picCode},on:{input:function(t){t.target.composing||e.$set(e.formData,"picCode",t.target.value)}}}),s("img",{ref:"imgcode",attrs:{src:e.$window.SERVERPATH+"/open/pic_captcha?type=REGISTER&macCode="+e.macCode,alt:""},on:{click:function(t){e.getImgCode("REGISTER")}}})])]),s("div",{staticClass:"input-wrap"},[s("label",[e._v(e._s(e.$t("message.PopCaptcha")))]),s("div",{staticClass:"input-flex"},["phone"==e.registerType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.captcha,expression:"formData.captcha"}],attrs:{type:"text",placeholder:e.$t("message.PopInputCaptcha")},domProps:{value:e.formData.captcha},on:{input:function(t){t.target.composing||e.$set(e.formData,"captcha",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.captcha,expression:"formData.captcha"}],attrs:{type:"text",placeholder:e.$t("message.PopInputEmailCaptcha")},domProps:{value:e.formData.captcha},on:{input:function(t){t.target.composing||e.$set(e.formData,"captcha",t.target.value)}}}),s("AEFcountDownBtn",{directives:[{name:"show",rawName:"v-show",value:"phone"==e.registerType,expression:"registerType == 'phone'"}],nativeOn:{click:function(t){e.getSMScode("REGISTER")}},model:{value:e.captchaDisabled,callback:function(t){e.captchaDisabled=t},expression:"captchaDisabled"}}),s("AEFcountDownBtn",{directives:[{name:"show",rawName:"v-show",value:"email"==e.registerType,expression:"registerType == 'email'"}],nativeOn:{click:function(t){e.getEmailCode("REGISTER")}},model:{value:e.captchaDisabledEmail,callback:function(t){e.captchaDisabledEmail=t},expression:"captchaDisabledEmail"}})],1)]),s("div",{staticClass:"input-wrap"},[s("label",[e._v(e._s(e.$t("message.PopPassword")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:e.$t("message.PopPasswordPlaceholder")},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),s("div",{staticClass:"input-wrap"},[s("label",[e._v(e._s(e.$t("message.PopPasswordConfirm")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password2,expression:"formData.password2"}],attrs:{type:"password",placeholder:e.$t("message.PopPassword2Placeholder")},domProps:{value:e.formData.password2},on:{input:function(t){t.target.composing||e.$set(e.formData,"password2",t.target.value)}}})]),s("div",{staticClass:"input-wrap"},[s("label",[e._v(e._s(e.$t("message.PopInviteCode")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.inviteCode,expression:"formData.inviteCode"}],attrs:{type:"text",placeholder:e.$t("message.PopInviteCodePlaceholder")},domProps:{value:e.formData.inviteCode},on:{input:function(t){t.target.composing||e.$set(e.formData,"inviteCode",t.target.value)}}})]),s("button",{staticClass:"primary-btn",on:{click:function(t){e.registerDo("phone")}}},[e._v(e._s(e.$t("message.PopRegister")))]),s("p",[s("router-link",{attrs:{to:"login",replace:""}},[e._v(e._s(e.$t("message.gotoLogin")))])],1)])])},i=[],o=(a("ac6a"),a("c93e")),r=a("2f62"),n=a("1720"),c=a("2ba1"),p={props:["registerAccount"],data:function(){return{prefixs:["+86","+852","+853","+886","+8801","+8802","+001","+44","+0061"],formData:{phone:"",inviteCode:"",prefix:"+86",captcha:"",password:"",password2:"",email:"",picCode:""},macCode:(new Date).getTime(),registerType:"phone",captchaDisabled:!1,captchaDisabledEmail:!1,prefixMenu:!1,currentAddr:""}},created:function(){sessionStorage.getItem("inviteCode")&&""!=sessionStorage.getItem("inviteCode").trim()?(this.$route.query.inviteCode&&this.$route.query.inviteCode!=sessionStorage.getItem("inviteCode")&&sessionStorage.setItem("inviteCode",this.$route.query.inviteCode||""),this.formData.inviteCode=sessionStorage.getItem("inviteCode")):(sessionStorage.setItem("inviteCode",this.$route.query.inviteCode||""),this.formData.inviteCode=this.$route.query.inviteCode||"")},methods:Object(o["a"])({getImgCode:function(e){this.$refs.imgcode.src=this.$window.SERVERPATH+"/open/pic_captcha?type="+e+"&macCode="+this.macCode+"&"+Math.random()},getSMScode:function(e){var t=this;this.verifyPhone()&&this.verifyPicCode()&&(this.captchaDisabled=!0,this.$http.post("/open/captcha",{macCode:this.macCode,phone:this.formData.phone,picCode:this.formData.picCode,prefix:this.formData.prefix,type:e}).then(function(a){200!=a.code&&(t.captchaDisabled=!1,t.getImgCode(e))}).catch(function(e){t.captchaDisabled=!1}))},getEmailCode:function(e){var t=this;this.verifyEmail()&&this.verifyPicCode()&&(this.captchaDisabledEmail=!0,this.$http.get("/open/email_captcha",{params:{email:this.formData.email,picCode:this.formData.picCode,captchaType:e,macCode:this.macCode}}).then(function(a){200!=a.code&&(t.captchaDisabledEmail=!1,t.getImgCode(e))}).catch(function(e){t.captchaDisabledEmail=!1}))},registerDo:function(){var e=this,t=this.registerType,a="/open/register/phone",s={captcha:this.formData.captcha,loginPwd:Object(c["a"])(this.formData.password),phone:this.formData.phone,prefix:this.formData.prefix,inviteCode:this.formData.inviteCode};if("email"==t){if(a="/open/register/email",!this.verifyEmail())return;s.email=this.formData.email}else if(!this.verifyPhone())return;this.verifyCaptcha()&&this.verifyPassword()&&this.$http.post(a,s).then(function(t){200==t.code&&(e.alert({type:"success",msg:t.msg}),e.setUserInfo(t.result),e.$goBack())})},verifyPassword:function(){var e=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,12}$/;return e.test(this.formData.password)?this.formData.password===this.formData.password2||(this.alert({type:"info",msg:this.$t("message.PopPassDiff")}),!1):(this.alert({type:"info",msg:this.$t("message.PopPassRequest")}),!1)},verifyPhone:function(){return("+86"!=this.formData.prefix||/^1[34578]\d{9}$/.test(this.formData.phone))&&!(""==this.formData.phone||!/^[0-9]*$/.test(this.formData.phone))||(this.alert({type:"info",msg:this.$t("message.PopPhoneWrong")}),!1)},verifyPicCode:function(){return""!=this.formData.picCode||(this.alert({type:"info",msg:this.$t("message.PopGraphicEmpty")}),!1)},verifyCaptcha:function(){return""!=this.formData.captcha||(this.alert({type:"info",msg:this.$t("message.PopCaptchaEmpty")}),!1)},verifyEmail:function(){return!(""==this.formData.email||!/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(this.formData.email))||(this.alert({type:"info",msg:this.$t("message.PopEmailWrong")}),!1)}},Object(r["b"])({alert:"alert",setUserInfo:"SET_USERINFO",setCurrentAddr:"SET_CURRENTADDR"})),watch:{addressList:function(e){var t=this,a=null;if(e.length>0){var s=!1;e.forEach(function(e,i){e.coinAddress==t.storeCurrentAddr.coinAddress&&(s=!0,t.setCurrentAddr(e)),e.coinAddress==t.storeWeb3.coinbase&&(a=e)}),s||(a?(this.currentAddr=a.coinAddress,this.setCurrentAddr(a)):(this.currentAddr=e[0].coinAddress,this.setCurrentAddr(e[0])))}},currentAddr:function(e){var t=this;this.addressList.forEach(function(a){a.coinAddress==e&&t.setCurrentAddr(a)})},registerType:function(e,t){this.formData.captcha="",this.formData.picCode="",this.formData.password="",this.formData.password2=""}},computed:Object(o["a"])({},Object(r["c"])({userInfo:function(e){return e.user.userInfo},storeCurrentAddr:function(e){return e.user.currentAddr},lastCurAddrPf:function(e){return e.user.lastCurAddrPf},storeWeb3:function(e){return e.web3Handler.web3}}),{addressList:function(){return this.$store.getters.getUserAddress}}),components:{AEFcountDownBtn:n["a"]}},m=p,d=(a("0f10"),a("2877")),l=Object(d["a"])(m,s,i,!1,null,null,null);l.options.__file="Register.vue";t["default"]=l.exports}}]);