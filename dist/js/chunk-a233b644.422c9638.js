(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a233b644"],{"18b6":function(s,t,e){"use strict";e.r(t);var o=function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",{staticClass:"bonusPool-page"},[o("MBheaderBar",{attrs:{title:s.$t("message.BPbonusPools")}}),o("div",{staticClass:"content"},[o("div",{staticClass:"top-btn"},[o("div",{class:[0==s.topBtnIndex?"select":""],on:{click:function(t){s.selectBtn(0)}}},[s._v(s._s(s.$t("message.bonusPool")))]),o("div",{class:[1==s.topBtnIndex?"select":""],on:{click:function(t){s.selectBtn(1)}}},[s._v(s._s(s.$t("message.BPDig")))])]),o("div",{directives:[{name:"show",rawName:"v-show",value:0==s.topBtnIndex,expression:"topBtnIndex == 0"}],staticClass:"part1"},[o("p",{staticClass:"tip1"},[s._v(s._s(s.$t("message.BPtip")))]),o("div",{staticClass:"coin-wrap eth"},[o("div",{staticClass:"coin-logo"},[o("img",{attrs:{src:e("1eb1")}}),o("span",[s._v(s._s(s.$t("message.BPcurrentAmount")))])]),o("h3",[s._v(s._s(Number(s.bonusPoolsData.ethPool)>0?Number(s.bonusPoolsData.ethPool).toFixed(2):0)+" ETH")])]),o("div",{staticClass:"coin-wrap eth"},[o("div",{staticClass:"coin-logo"},[o("img",{attrs:{src:e("1d0a")}}),o("span",[s._v(s._s(s.$t("message.BPcurrentAmount")))])]),o("h3",[s._v(s._s(Number(s.bonusPoolsData.trxPool)>0?Number(s.bonusPoolsData.trxPool).toFixed(2):0)+" TRX")])]),o("ul",[o("li",[o("img",{attrs:{src:e("1663")}}),o("span",[s._v(s._s(s.$t("message.BPSoon")))])]),o("li",[o("img",{attrs:{src:e("8960")}}),o("span",[s._v(s._s(s.$t("message.BPSoon")))])])]),o("div",{staticClass:"tip2"},[o("p",{},[s._v(s._s(s.$t("message.BPtip2")))])]),s.storeCurrentAddr.bet?o("div",{staticClass:"tip3"},[o("p",[s._v(s._s(s.$t("message.BPab"))+"："+s._s(s.storeCurrentAddr.bet||0)+" AB")])]):s._e()]),o("div",{directives:[{name:"show",rawName:"v-show",value:1==s.topBtnIndex,expression:"topBtnIndex == 1"}],staticClass:"part2"},[o("div",{staticClass:"progress-wrap"},[o("h4",{directives:[{name:"show",rawName:"v-show",value:"TRX"==s.coinType,expression:"coinType == 'TRX'"}]},[s._v(s._s(s.$t("message.BP3stage"))+"（"+s._s(s.$t("message.BPmost"))+" 100TRX：50AB）")]),o("h4",{directives:[{name:"show",rawName:"v-show",value:"ETH"==s.coinType,expression:"coinType == 'ETH'"}]},[s._v(s._s(s.$t("message.BP3stage"))+"（"+s._s(s.$t("message.BPmost"))+" 1ETH：3200AB）")]),o("div",{staticClass:"progress-bar"},[o("i",[s._v(s._s(s.bonusPoolsData.progressDig.toFixed(2))+"/1,000,000,000")]),o("span",{style:{width:s.bonusPoolsData.progressDig/1e9*100+"%"}})])]),o("div",{staticClass:"ctn-area area1"},[o("label",[s._v(s._s(s.$t("message.BPgame")))]),o("h4",[s._v(s._s(s.bonusPoolsData.totalDig.toFixed(2))+" AB")])]),o("div",{staticClass:"ctn-area area2"},[o("div",{staticClass:"cell"},[o("label",[s._v(s._s(s.$t("message.BPreceived")))]),o("h4",[s._v(s._s(s.bonusPoolsData.transferred.toFixed(2)))])]),o("div",{staticClass:"cell"},[o("label",[s._v(s._s(s.$t("message.BPtoReceive")))]),o("h4",[s._v(s._s(s.bonusPoolsData.ab.toFixed(2)))])])]),o("p",{directives:[{name:"show",rawName:"v-show",value:"TRX"==s.coinType,expression:"coinType == 'TRX'"}],staticClass:"tips"},[s._v(s._s(s.$t("message.BPhandleFee")))]),o("p",{directives:[{name:"show",rawName:"v-show",value:"ETH"==s.coinType,expression:"coinType == 'ETH'"}],staticClass:"tips"},[s._v(s._s(s.$t("message.BPEthFee")))]),s.storeCurrentAddr.token?o("a",{staticClass:"get",attrs:{href:"javascript:;"},on:{click:s.getAB}},[s._v(s._s(s.$t("message.BPbtnGet")))]):o("a",{staticClass:"get",attrs:{href:"javascript:;"},on:{click:function(t){s.isShow=!1,s.openLogin()}}},[s._v(s._s(s.$t("message.login")))]),o("p",{staticClass:"tips tips-spec"},[s._v(s._s(s.$t("message.BPtip")))])])])],1)},a=[],n=(e("f751"),e("be94")),i=(e("cadf"),e("551c"),e("097d"),e("2f62")),r=e("fca0"),c={props:{isShowBPpopup:{type:Boolean,default:!1}},data:function(){return{bonusPoolsData:{progressDig:0,totalDig:0,transferred:0,ab:0},isShow:!1,topBtnIndex:0}},watch:{isShow:function(s){s?this.getBonusPools():this.$emit("change",s)},isShowBPpopup:function(s){s&&(this.isShow=!0)}},model:{prop:"isShowBPpopup",event:"change"},mounted:function(){this.getBonusPools()},computed:Object(n["a"])({},Object(i["c"])({storeCurrentAddr:function(s){return s.user.currentAddr},coinType:function(s){return s.user.coinType}})),methods:Object(n["a"])({selectBtn:function(s){this.topBtnIndex=s},getBonusPools:function(){var s=this;this.$http.get("/app/profit/profit",{params:{coinType:this.coinType}}).then(function(t){console.log("getBonusPools",t),200==t.code&&(s.bonusPoolsData=Object.assign(s.bonusPoolsData,t.result))})},getAB:function(){var s=this;this.bonusPoolsData.ab<=0?this.alert({type:"info",msg:this.$t("message.BPnothingAB"),timeout:3e3}):"ETH"==this.coinType?this.getETH_AB():this.$http.post("/app/transfer/trx_ab_withdraw").then(function(t){console.log(t),s.getBonusPools(),200==t.code?s.getTRX_AB(t.result):s.alert({type:"info",msg:t.msg})})},getETH_AB:function(){var s=this;this.$http.post("/app/transfer/eth_ab_withdraw").then(function(t){200==t.code?(s.getBonusPools(),s.alert({type:"success",msg:t.msg})):s.alert({type:"info",msg:t.msg})})},getTRX_AB:function(s){var t=this,e=this,o=this.tronWeb.tronWebInstance.toSun(10);this.tronWeb.contract.askForToken(s,"TPGpTQSuUYDmvfn2NKRL6jVxFduN3UBMmb").send({feeLimit:o,callValue:0,shouldPollResponse:!1}).then(function(s){e.alert({type:"info",msg:e.$t("message.BPgetSuccess"),timeout:3e3})}).catch(function(o){t.recall(s),e.alert({type:"info",msg:"User rejected the signature request.",timeout:3e3})})},recall:function(s){var t=this;this.$http.post("/app/transfer/trx_ab_withdraw/recall",{withdrawId:s}).then(function(s){200==s.code&&t.getBonusPools()})}},Object(i["b"])({alert:"alert",openLogin:"OPEN_LOGIN"})),components:{HeaderBar:r["a"]}},l=c,p=(e("1db3"),e("2877")),u=Object(p["a"])(l,o,a,!1,null,null,null);u.options.__file="BonusPool.vue";t["default"]=u.exports},"1cbd":function(s,t,e){},"1db3":function(s,t,e){"use strict";var o=e("1cbd"),a=e.n(o);a.a}}]);